Entity Relationship Diagram (ERD) OutlineThis ERD represents the database structure for CodePath Merch Central. It focuses on separating core e-commerce functions (Products, Orders) from specialized CodePath features (Users, Roles, Bundles) to ensure maximum flexibility and data integrity.Create the List of TablesUsersRolesProductsCategoriesInventory (Handles stock/variants like size and color)ReviewsDiscounts (For promotional and student codes)CartsCartItems (Handles active cart and "saved for later")OrdersOrderLineItems (Records what was purchased and at what price)Bundles (For Professor-created cohort packs)BundleItemsEntity Relationship Diagram (Schema Details)1. Users (Handles CodePath Roles)Column NameTypeDescriptionuser_idUUIDPrimary Key. (This would typically map to the CodePath user ID or Firebase UID).role_idintegerForeign Key to Roles. Defines the user's status (Student, TF, Staff).first_nametextUser's first name.last_nametextUser's last name.emailtextUser's email (Unique).2. Roles (Manages Automatic Discounts)Column NameTypeDescriptionrole_idintegerPrimary Key.nametextRole name (e.g., 'Student', 'Tech Fellow', 'Staff', 'Professor').default_discount_ratedecimalThe automatic, non-promotional discount applied to this role (e.g., 0.15 for Tech Fellows).3. Products (The Merch Items)Column NameTypeDescriptionproduct_idUUIDPrimary Key.category_idintegerForeign Key to Categories. (For easy browsing).nametextProduct name (e.g., 'CodePath T-Shirt').descriptiontextDetailed product description.base_pricedecimalThe standard price before any discounts.image_urltextLink to the main product image.average_ratingdecimalCalculated average of linked reviews (for display).4. Categories (Browsing by Type)Column NameTypeDescriptioncategory_idintegerPrimary Key.nametextCategory name (e.g., 'Apparel', 'Accessories', 'Tech Gear').5. Inventory (Stock Management)Column NameTypeDescriptioninventory_idUUIDPrimary Key.product_idUUIDForeign Key to Products.size_or_varianttextSpecific variation (e.g., 'Large', 'Blue', 'USB-C').stock_levelintegerCurrent quantity in stock (Staff inventory management).6. Reviews (Informed Decisions)Column NameTypeDescriptionreview_idUUIDPrimary Key.product_idUUIDForeign Key to Products.user_idUUIDForeign Key to Users.ratingintegerStar rating (1 to 5).review_texttextThe written review content.created_attimestampDate and time the review was posted.7. Discounts (Promotional Campaigns)Column NameTypeDescriptiondiscount_idUUIDPrimary Key.codetextThe actual code (e.g., 'DEMODAY25', 'STUDENT').discount_typetextType of discount (e.g., 'PERCENTAGE', 'FIXED_AMOUNT').valuedecimalThe percentage (0.25) or fixed amount (10.00).uses_remainingintegerNumber of times the code can be used (NULL for unlimited).expires_attimestampExpiration date (Staff management).is_activebooleanWhether the code is currently running (Staff management).8. Carts (Per-User Shopping Session)Column NameTypeDescriptioncart_idUUIDPrimary Key.user_idUUIDForeign Key to Users. One cart per user.last_updatedtimestampLast time an item was added or removed.9. CartItems (Tracking Active and Saved Items)Column NameTypeDescriptioncart_item_idUUIDPrimary Key.cart_idUUIDForeign Key to Carts.inventory_idUUIDForeign Key to Inventory (Links to specific variant/stock).quantityintegerQuantity desired.saved_for_laterbooleanTRUE if saved for later, FALSE if in active cart.10. Orders (Completed Transactions)Column NameTypeDescriptionorder_idUUIDPrimary Key.user_idUUIDForeign Key to Users.applied_discount_idUUIDForeign Key to Discounts (The promo code used, if any).order_datetimestampDate and time of purchase.total_amountdecimalThe final amount charged to the user.statustextOrder status (e.g., 'Processing', 'Shipped', 'Delivered').11. OrderLineItems (For Sales Analytics)Column NameTypeDescriptionorder_line_idUUIDPrimary Key.order_idUUIDForeign Key to Orders.product_idUUIDForeign Key to Products.variant_detailstextDetails like size/color at time of purchase (Snapshot for history).quantityintegerQuantity purchased.unit_price_at_purchasedecimalThe price used for the line item (important for sales analytics).12. Bundles (Professor Merch Packs)Column NameTypeDescriptionbundle_idUUIDPrimary Key.professor_user_idUUIDForeign Key to Users (Staff/Professor who created the bundle).nametextBundle name (e.g., 'Web Dev Essentials Cohort 1').descriptiontextDescription of the bundled items.bundle_pricedecimalThe special discounted price for the whole bundle.13. BundleItems (Products within a Bundle)Column NameTypeDescriptionbundle_item_idUUIDPrimary Key.bundle_idUUIDForeign Key to Bundles.product_idUUIDForeign Key to Products.
